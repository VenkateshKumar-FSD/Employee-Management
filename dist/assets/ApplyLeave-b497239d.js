import{r as s,A as c,j as e}from"./index-6b86054d.js";import{l as g}from"./leaveService-08898c1b.js";function h({onRequested:r}){const{user:a}=s.useContext(c),[n,i]=s.useState(""),[o,d]=s.useState(""),[l,u]=s.useState(""),[x,m]=s.useState(!1),p=s.useCallback(async t=>{if(t.preventDefault(),!(a!=null&&a.employeeId))return alert("No employee linked");m(!0),await g.apply({employeeId:a.employeeId,employeeName:a.name,fromDate:n,toDate:o,reason:l}),i(""),d(""),u(""),m(!1),r&&r(),alert("Leave requested")},[n,o,l,a,r]);return e.jsxs("form",{className:"card",onSubmit:p,children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("label",{children:"From"}),e.jsx("input",{type:"date",value:n,onChange:t=>i(t.target.value),required:!0})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("label",{children:"To"}),e.jsx("input",{type:"date",value:o,onChange:t=>d(t.target.value),required:!0})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("label",{children:"Reason"}),e.jsx("textarea",{value:l,onChange:t=>u(t.target.value),rows:3,required:!0})]}),e.jsx("div",{children:e.jsx("button",{className:"btn",type:"submit",disabled:x,children:x?"Requesting...":"Request Leave"})})]})}function j(){return e.jsxs("div",{style:{maxWidth:"700px",margin:"0 auto",padding:"25px"},children:[e.jsx("h1",{style:{color:"#2d6a4f",marginBottom:"20px",textAlign:"center",fontWeight:"700"},children:"Apply for Leave"}),e.jsx("div",{style:{background:"#fff",padding:"30px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:e.jsx(h,{})})]})}export{j as default};
