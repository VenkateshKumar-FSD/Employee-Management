import{r as l,j as e}from"./index-6b86054d.js";import{l as n}from"./leaveService-08898c1b.js";function c({record:s,onUpdate:t}){const i=l.useCallback(async()=>{await n.approve(s.id),t()},[s,t]),a=l.useCallback(async()=>{await n.reject(s.id),t()},[s,t]);return e.jsxs("div",{className:"card",style:{display:"flex",justifyContent:"space-between",gap:12},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:700},children:s.employeeName}),e.jsxs("div",{className:"text-muted",children:[s.fromDate," â†’ ",s.toDate]}),e.jsx("div",{style:{marginTop:8},children:s.reason})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[e.jsx("div",{style:{fontWeight:700,color:s.status==="pending"?"orange":s.status==="approved"?"green":"red"},children:s.status}),s.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn",onClick:i,children:"Approve"}),e.jsx("button",{className:"btn",onClick:a,children:"Reject"})]})]})]})}function o(){const[s,t]=l.useState([]),i=l.useCallback(async()=>{const a=await n.listAll();t(a.data)},[]);return l.useEffect(()=>{i()},[i]),e.jsxs("div",{children:[e.jsx("h1",{style:{color:"var(--green-dark)"},children:"Leave Requests"}),e.jsxs("div",{style:{marginTop:12,display:"grid",gap:8},children:[s.length===0&&e.jsx("div",{className:"text-muted",children:"No leave requests"}),s.map(a=>e.jsx(c,{record:a,onUpdate:i},a.id))]})]})}export{o as default};
